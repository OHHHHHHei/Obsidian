
# 基本概念

灰色关联分析的本质就是一种**衡量不同序列之间变化趋势相似度**的方法。

总的来说，遇到以下情况时，可以优先考虑使用灰色关联分析：
- **样本数量少**：不需要大量的数据支持。
- **变量关系不明确**：不知道变量之间是线性还是非线性关系。
- **数据分布不典型**：数据不一定需要服从某种典型的概率分布。

# 计算步骤

## 确定参考序列和比较序列

- **参考序列 (Reference Sequence)** ：就是我们研究的核心目标，也就是那个“靶子”。例如 GDP。我们通常把它记作 $x_0$。

- **比较序列 (Comparative Sequences)**：就是那些可能影响目标的因素，也就是“选手们”。比如工业产值 $x_1$，固定资产投资 $x_2$ 等等。

## 数据无量纲化处理

我们需要把所有数据都处理成没有单位的、差不多范围内的数值。最常用的方法是**均值化**，也叫**初值化**。公式很简单，就是把一个序列里的每一个数，都除以这个序列的第一个数。

## 计算关联系数

关联系数是用来衡量在**每一个时间点**上，你的“选手”（比较序列）和“靶子”（参考序列）有多接近。它的值在 0 到 1 之间，越接近 1，说明在这个时间点上它们俩的形态越相似。

计算公式看起来可能有点复杂，但我们把它拆开看就很容易理解了：


$$\xi_i(k) = \frac{\min_i \min_k |x'_0(k) - x'_i(k)| + \rho \cdot \max_i \max_k |x'_0(k) - x'_i(k)|}{|x'_0(k) - x'_i(k)| + \rho \cdot \max_i \max_k |x'_0(k) - x'_i(k)|}$$  
$x'_0​(k)$ 和 $x'_i​(k)$：分别是无量纲化之后，参考序列和第 $i$ 个比较序列在第 $k$ 个时间点上的值。
- $∣x'_0​(k)−x'_i​(k)∣$：这是在第 $k$ 个时间点，某个“选手”和“靶子”的距离（差值的绝对值）。
- $min_i​min_k​∣x'_0​(k)-x_i​(k)∣$：这是你所有数据里，所有“选手”在所有时间点上和“靶子”的**最小距离**。我们称之为“两级最小差”。
- $max_i​max_k​∣x'_0​(k)−x'_i​(k)∣$：同理，这是所有数据里的**最大距离**。我们称之为“两级最大差”。
- $ρ$ ：这是一个分辨系数，它的取值范围是 (0, 1)，通常我们就取 **0.5**。它的作用是调节“对比度”，暂时不用太深究它的数学意义，就把它当作一个固定的参数。

所以，这个公式的本质就是： **关联系数 = (最小距离 + ρ * 最大距离) / (当前距离 + ρ * 最大距离)**

你看，当“当前距离” $∣x'_0​(k)−x'_i​(k)∣$很小（接近最小距离）时，分子和分母就很接近，算出来的值就趋近于 1。反之，如果“当前距离”很大，算出来的值就趋近于 0。

## 计算关联度并排序

关联度的计算公式如下
$$r_i = \frac{1}{n} \sum_{k=1}^n​ξ_i(k)$$ 
就是计算关联系数的平均值
最后要做的就是**把这些关联度从大到小排个序**。
关联度 $r_i$​ 的值越大，就说明第 $i$ 个比较序列的曲线和参考序列的曲线在整体上长得越像，也就是它对参考序列的影响越大。